// Generated by CoffeeScript 1.10.0
exports.serial = function(fn, cmds, opts, cb) {
  var errAll, lastStatus, next, outAll;
  outAll = '';
  errAll = '';
  lastStatus = null;
  return (next = function() {
    if (cmds.length) {
      return fn(cmds.shift(), opts, function(err, stdout, stderr, status) {
        outAll += stdout;
        errAll += stderr;
        lastStatus = status;
        if (opts.strict && (err != null)) {
          return cb(err, outAll, errAll, lastStatus);
        }
        return next();
      });
    } else {
      return cb(null, outAll, errAll, lastStatus);
    }
  })();
};

exports.parallel = function(fn, cmds, opts, cb) {
  var cmd, done, errAll, i, len, outAll, results;
  outAll = '';
  errAll = '';
  done = 0;
  results = [];
  for (i = 0, len = cmds.length; i < len; i++) {
    cmd = cmds[i];
    results.push(fn(cmd, opts, function(err, stdout, stderr, status) {
      outAll += stdout;
      errAll += stderr;
      if (++done === cmds.length) {
        return cb(null, outAll, errAll, status);
      }
    }));
  }
  return results;
};

//# sourceMappingURL=flow.js.map
